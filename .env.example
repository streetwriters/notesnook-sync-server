# Notesnook Sync Server Configuration
# Copy this file to .env and fill in your values

# ===== REQUIRED CONFIGURATION =====

# Instance name for your Notesnook server
# Used in client apps for identification purposes
# Example: notesnook-instance-sg
INSTANCE_NAME=My Notesnook Server

# Secret key for API authentication (generate a strong random string)
# Must be a randomly generated token (preferably >32 characters)
# Generate with: openssl rand -base64 32
NOTESNOOK_API_SECRET=your-super-secret-api-key-here

# Whether to disable new user registrations (true/false)
# Use this to prevent new account creation if exposed to Internet
DISABLE_SIGNUPS=false

# SMTP Email Configuration (required for user notifications)
# Username for SMTP connection (usually your email address)
SMTP_USERNAME=your-email@example.com
# Password for SMTP connection
SMTP_PASSWORD=your-email-password
# SMTP host (e.g., smtp.gmail.com)
SMTP_HOST=smtp.example.com
# SMTP port (e.g., 465 for SSL, 587 for TLS)
SMTP_PORT=587

# ===== PUBLIC URLS =====
# These should be the publicly accessible URLs for your services
# Replace "your-domain.com" with your actual domain
# NOTE: URLs should have no trailing slashes

# Authentication server public URL
# Used for generating email confirmation & password reset URLs
# Example: https://auth.streetwriters.co
AUTH_SERVER_PUBLIC_URL=https://your-domain.com:8264

# Main Notesnook app public URL
# Used by backend for creating redirect URLs (after email confirmation, etc.)
# Example: https://app.notesnook.com
NOTESNOOK_APP_PUBLIC_URL=https://your-domain.com:5264

# Monograph publishing service public URL
# Public URL for the monograph frontend
# Example: https://monogr.ph
MONOGRAPH_PUBLIC_URL=https://your-domain.com:6264

# File attachments server public URL (MinIO S3)
# Used by Notesnook clients for uploading/downloading attachments
# Example: https://attachments.notesnook.com
ATTACHMENTS_SERVER_PUBLIC_URL=https://your-domain.com:9000

# ===== OPTIONAL CONFIGURATION =====

# MinIO S3 Storage Credentials (defaults provided)
# Custom username for MinIO root account (must be >3 characters)
MINIO_ROOT_USER=minioadmin
# Custom password for MinIO root account (must be >8 characters)
MINIO_ROOT_PASSWORD=minioadmin

# ===== TWILIO SMS CONFIGURATION (Optional) =====
# Required for sending SMS with 2FA codes
# Get these from your Twilio Console: https://console.twilio.com/

# Twilio account SID
TWILIO_ACCOUNT_SID=your-twilio-account-sid
# Twilio auth token
TWILIO_AUTH_TOKEN=your-twilio-auth-token
# Twilio service SID (e.g., VAaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa)
TWILIO_SERVICE_SID=your-twilio-service-sid

# ===== CORS CONFIGURATION (Optional) =====
# Allowed origins for CORS (comma-separated, leave empty to allow all)
# Example: https://app.notesnook.com,http://localhost:3000
NOTESNOOK_CORS_ORIGINS=

# ===== ADDITIONAL SMTP OPTIONS (Optional) =====
# Custom sender email address
# SMTP_FROM=noreply@your-domain.com
# Enable secure connection
# SMTP_SECURE=true
# Enable TLS
# SMTP_TLS=true